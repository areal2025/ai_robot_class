# 第1周：课程介绍与仿真环境搭建

**课时**: 6小时（第一次课3小时 + 第二次课3小时）

---

## 📋 本周课程表

| 次序 | 时间 | 主题 | 内容 |
|------|------|------|------|
| 第1次 | 3小时 | 课程导论与理论 | 机器人与AI、ROS2概念、理论讲解 |
| 第2次 | 3小时 | 环境搭建实战 | Docker安装、仿真环境配置、第一个实验 |

---

## 第一次课：课程导论与理论（3小时）

### ⏱️ 时间分配

| 环节 | 时间 | 内容 |
|------|------|------|
| 开场 | 15分钟 | 课程介绍、互相认识 |
| 理论讲解1 | 45分钟 | 机器人与AI的区别与联系 |
| 理论讲解2 | 60分钟 | ROS2系统概述 |
| 茶歇 | 10分钟 | 休息交流 |
| 理论讲解3 | 40分钟 | 核心概念：节点与话题 |
| 演示 | 15分钟 | 演示Turtlesim |
| 小结 | 15分钟 | 本周总结、布置任务 |

---

## 1.1 开场与课程介绍（15分钟）

### 👋 欢迎来到AI机器人课程！

> **教师开场白**：
> "欢迎大家来到AI机器人课程！在接下来的15周里，我们将一起探索机器人的世界。从零开始，学会如何让机器人听你的话，如何给机器人装上'眼睛'，如何让它自主导航。最终，你们将完成一个完整的机器人项目！"

### 📚 课程信息

- **课程名称**: AI机器人（AI Robotics）
- **总课时**: 90小时（15周 × 6小时/周）
- **前置要求**: 零基础！只要会用电脑
- **授课方式**: 理论40% + 演示20% + 实践40%

### 🎯 学习路径

```
15周学习路径：

Week 1-3    Week 4-7      Week 8-12    Week 13-15
   │           │            │            │
   ▼           ▼            ▼            ▼
──┌────┐   ┌──────┐    ┌──────┐    ┌──────┐
│ 基础 │ → │ 运动 │ → │  AI  │ → │ 项目 │
│ 环境 │   │ 感知 │   │ 应用 │   │ 实战 │
└──────┘   └──────┘    └──────┘    └──────┘
  (18h)     (21h)       (21h)       (30h)
```

---

## 1.2 机器人与AI的区别与联系（45分钟）

### 🤖 思考问题

> **提问**：同学们，你们印象中的机器人是什么样的？
> 
> **引导**：从电影中的机器人、生活中遇到的机器人、新闻里的机器人开始讨论

### 1.2.1 什么是机器人？

#### 📖 定义

> **机器人**（Robot）是一种能够自动执行任务的**物理机器**，它通常具有：
> - 传感器（感知环境）
> - 执行器（执行动作）
> - 控制器（处理信息）

#### 🏭 机器人发展历程

```
时间线：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  1920    1950    1980    2000    2020    现在              │
│   │        │       │       │       │       │               │
│   ▼        ▼       ▼       ▼       ▼       ▼               │
│ ┌────┐  ┌────┐  ┌────┐  ┌────┐  ┌────┐  ┌────┐           │
│ │Robot│  │工业 │  │服务 │  │自动 │  │智能 │  │...   │        │
│ │词汇 │  │机器 │  │机器 │  │驾驶 │  │机器人│          │
│ │诞生 │  │人   │  │人   │  │     │  │     │           │
│ └────┘  └────┘  └────┘  └────┘  └────┘  └────┘           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 🔬 现代机器人的分类

| 类型 | 示例 | 应用场景 |
|------|------|---------|
| 工业机器人 | 焊接机械臂、装配机器人 | 工厂生产线 |
| 服务机器人 | 扫地机器人、送餐机器人 | 餐饮、酒店 |
| 特种机器人 | 无人机、深海探测器 | 危险环境 |
| 人形机器人 | Atlas、ASIMO | 研究、展示 |
| 自动驾驶汽车 | Tesla、Waymo | 交通出行 |

### 1.2.2 什么是人工智能？

#### 📖 定义

> **人工智能**（Artificial Intelligence, AI）是计算机科学的一个分支，致力于开发能够**模拟、延伸和扩展人类智能**的理论、方法、技术和应用系统。

#### 🏠 你身边的AI助手

> **提问**：同学们，你们日常生活中有没有接触过AI？

```
┌─────────────────────────────────────────────────────────────┐
│                    常见的AI助手                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  📱 手机助手                                                │
│  ├── Siri (苹果)     ──► "Hey Siri, 帮我打开灯"           │
│  ├── 小爱同学 (小米)  ──► "小爱同学，播放音乐"             │
│  ├── 小艺 (华为)     ──► "小艺，今天天气怎么样"            │
│  └── Google Assistant ──► "Hey Google, 设置闹钟"           │
│                                                             │
│  🏠 智能音箱                                                │
│  ├── 小度 (百度)     ──► "小度小度，播放新闻"              │
│  ├── 天猫精灵 (阿里) ──► "天猫精灵，开空调"                │
│  └── HomePod (苹果)  ──► 语音控制HomeKit设备              │
│                                                             │
│  🤖 AI机器人助手                                            │
│  ├── OpenCLAW      ──► 多平台AI助手，可控制机器人          │
│  ├── 接待机器人   ──► 酒店/银行大堂的引导机器人             │
│  └── 家庭陪护机器人 ──► 儿童教育、老人陪伴                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### AI助手的构成

```
AI助手 = 语音识别(ASR) + 自然语言理解(NLU) + 对话管理 + 自然语言生成(NLG) + 语音合成(TTS)

以"小爱同学"为例：
┌─────────────────────────────────────────────────────────────┐
│  用户说 "小爱同学，帮我打开灯"                              │
│                      │                                      │
│                      ▼                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  1. ASR: 语音 → 文字                                 │   │
│  │     "帮我打开灯"                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                      │                                      │
│                      ▼                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  2. NLU: 理解意图 + 提取实体                        │   │
│  │     意图=打开设备, 设备=灯                          │   │
│  └─────────────────────────────────────────────────────┘   │
│                      │                                      │
│                      ▼                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  3. 执行: 调用智能家居API                            │   │
│  │     发送指令到米家平台                               │   │
│  └─────────────────────────────────────────────────────┘   │
│                      │                                      │
│                      ▼                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  4. TTS: 文字 → 语音                                │   │
│  │     "好的，灯已经打开了"                             │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

#### 🧠 人工智能的层次

```
AI智能层次：
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           通用人工智能 (AGI)                        │   │
│  │    像人类一样思考、学习、推理的机器智能                │   │
│  └─────────────────────────────────────────────────────┘   │
│                            ▲                                │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           狭义人工智能 (ANI)                        │   │
│  │    专注于特定任务的智能系统                           │   │
│  │    ┌─────────┐  ┌─────────┐  ┌─────────┐          │   │
│  │    │ 语音    │  │ 图像    │  │ 推荐    │          │   │
│  │    │ 识别    │  │ 识别    │  │ 系统    │          │   │
│  │    └─────────┘  └─────────┘  └─────────┘          │   │
│  └─────────────────────────────────────────────────────┘   │
│                            ▲                                │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           机器学习 (ML)                              │   │
│  │    从数据中学习规律的方法                             │   │
│  └─────────────────────────────────────────────────────┘   │
│                            ▲                                │
│  ┌─────────────────────────────────────────────────────┐   │
│  │           深度学习 (DL)                              │   │
│  │    基于神经网络的学习方法                             │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 🛠️ 常见AI技术

| 技术 | 说明 | 示例 |
|------|------|------|
| 计算机视觉 | 让机器"看"懂图像 | 人脸识别、自动驾驶 |
| 自然语言处理 | 理解人类语言 | 聊天机器人、翻译 |
| 语音识别 | 将语音转为文字 | 语音助手 |
| 强化学习 | 通过试错学习 | AlphaGo、游戏AI |
| 推荐系统 | 个性化推荐 | Netflix、抖音 |

### 1.2.3 机器人与AI的关系

#### 🔑 核心理解

> **一句话总结**：**AI是大脑，机器人是身体**

```
                    ┌─────────────────────────────────┐
                    │          智能机器人              │
                    └────────────────┬────────────────┘
                                     │
              ┌──────────────────────┼──────────────────────┐
              │                      │                      │
              ▼                      ▼                      ▼
    ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
    │      AI         │    │    ROS2         │    │     机械        │
    │    (软件/大脑)  │    │  (框架/神经)    │    │   (硬件/身体)   │
    ├─────────────────┤    ├─────────────────┤    ├─────────────────┤
    │ • 算法          │◄──►│ • 通信          │◄──►│ • 电机          │
    │ • 模型          │    │ • 节点          │    │ • 传感器        │
    │ • 决策          │    │ • 消息          │    │ • 执行器        │
    └─────────────────┘    └─────────────────┘    └─────────────────┘
```

#### 📊 对比表

| 方面 | 纯机器人 | 纯AI | 智能机器人 |
|------|---------|------|-----------|
| 形态 | 物理实体 | 虚拟程序 | 实体+智能 |
| 能力 | 执行固定任务 | 处理特定信息 | 自主决策+执行 |
| 例子 | 工业机械臂 | ChatGPT | 自动驾驶汽车 |

#### 🌟 AI + 机器人 = 智能机器人

> **本课程的核心**：让AI助手控制ROS2机器人！

```
┌─────────────────────────────────────────────────────────────┐
│                    AI控制机器人架构                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│    用户语音/文字                                            │
│         │                                                   │
│         ▼                                                   │
│  ┌──────────────┐     ┌──────────────┐                   │
│  │  AI助手      │     │  OpenCLAW    │                   │
│  │ (Siri/小爱) │────►│ (多平台中枢) │                   │
│  └──────────────┘     └──────┬───────┘                   │
│                               │                            │
│                               ▼                            │
│                        ┌──────────────┐                    │
│                        │   ROS2       │                    │
│                        │   机器人      │                    │
│                        └──────────────┘                    │
│                               │                            │
│                               ▼                            │
│                        ┌──────────────┐                    │
│                        │  执行动作    │                    │
│                        │  移动/抓取   │                    │
│                        └──────────────┘                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 🎯 本课程的AI+机器人实战

```
课程中的AI控制场景：

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  场景1: 语音控制机器人                                       │
│  "小爱同学，让机器人走正方形"                                │
│       │                                                      │
│       ▼                                                      │
│  AI识别意图 → ROS2节点接收 → 控制机器人执行                   │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  场景2: 视觉识别后执行                                       │
│  机器人看到QR码 → 识别内容 → 执行对应任务                    │
│       │                                                      │
│       ▼                                                      │
│  OpenCV识别 → ROS2话题发布 → 动作节点执行                    │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  场景3: AI对话+机器人控制                                    │
│  "机器人，去把桌子上的水拿过来"                              │
│       │                                                      │
│       ▼                                                      │
│  NLP理解 → 路径规划 → 自主导航 → 完成任务                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 🏠 智能家居 vs 智能机器人

| 智能家居 | 智能机器人 |
|---------|-----------|
| 灯/空调/窗帘 | 移动底盘/机械臂 |
| 开关量(开/关) | 连续量(速度/位置) |
| 静态环境 | 动态环境 |
| 室内固定位置 | 自主导航 |
| 例子 | 工业机械臂 | ChatGPT | 自动驾驶汽车 |
| 灵活性 | 低 | 高 | 高 |

#### 🌰 举例说明

| 产品 | 有AI吗？ | 有身体吗？ | 属于？ |
|------|---------|-----------|--------|
| 扫拖一体机 | ✅ 路线规划 | ✅ 轮子+刷子 | 智能机器人 |
| 酒店送餐机器人 | ✅ 导航避障 | ✅ 轮子+托盘 | 智能机器人 |
| ChatGPT | ✅ 对话能力 | ❌ 无 | 纯AI |
| 工业焊接机械臂 | ❌ 固定程序 | ✅ 机械臂 | 传统机器人 |

> **重要结论**：本课程要教的就是如何把**AI（大脑）**和**机器人（身体）**结合起来！

---

## 1.3 ROS2系统概述（60分钟）

### 1.3.1 什么是ROS？

#### 📖 历史

> **ROS = Robot Operating System**（机器人操作系统）
> 
> 2007年诞生于斯坦福大学人工智能实验室，后来由 Willow Garage 公司维护发展，至今已成为机器人领域最流行的开源框架。

#### 🐢 ROS版本（乌龟家族）

| 版本 | 代号 | 年份 | 状态 |
|------|------|------|------|
| ROS 1 | 各种乌龟 | 2010-2020 | 已停止维护 |
| ROS 2 | 各种乌龟 | 2015-至今 | **当前使用** ⭐ |

**为什么用乌龟？**
- 创始人Morgan Quigley喜欢小乌龟
- Turtlesim是经典入门教程

### 1.3.2 ROS2 vs ROS1

#### 📊 对比表

| 特性 | ROS 1 | ROS 2 | 为什么重要？ |
|------|-------|-------|-------------|
| **实时性** | 尽力而为 | 原生支持 | 机器人需要确定性响应 |
| **多机器人** | 困难 | 原生支持 | 未来是集群协作时代 |
| **安全性** | 无 | DDS安全 | 商业化必备 |
| **跨平台** | 仅Linux | Win/Mac/Linux | 方便开发者 |
| **可靠性** | 一般 | 高 | 工业应用要求 |
| **持续性** | 2025年停止 | 长期支持 | 不用担心过时 |

#### 🔧 技术架构

```
ROS2 架构：
┌─────────────────────────────────────────────────────────────┐
│                      应用层 (Application Layer)            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   Node A      Node B      Node C      Node D              │
│  (感知)       (决策)      (控制)      (显示)               │
│                                                             │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│                    通信层 (Communication Layer)            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   ┌──────────┐   ┌──────────┐   ┌──────────┐             │
│   │  Topic   │   │ Service  │   │  Action  │             │
│   │ (话题)   │   │ (服务)   │   │  (动作)  │             │
│   │ 异步/Pub │   │ 同步/Req │   │ 长期任务 │             │
│   └──────────┘   └──────────┘   └──────────┘             │
│                                                             │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│                     中间件 (Middleware)                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│               DDS (Data Distribution Service)              │
│            实时数据分发服务 - 负责网络通信                   │
│                                                             │
│   ┌──────────────────────────────────────────────────┐    │
│   │  • RTPS协议  • 数据安全  • 服务质量(QoS)          │    │
│   └──────────────────────────────────────────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 1.4 网络基础知识（ROS2通信前置）

> 在学习ROS2节点之前，我们需要了解一些网络基础知识，因为**ROS2节点之间通过网络通信**！

### 1.4.1 IP地址

#### 📍 什么是IP地址？

> **IP地址** = 网络中每个设备的"门牌号"

```
类比：IP地址就像电话号码

┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   现实世界：                                               │
│   你要打电话给小明 → 拨打电话号码 "138-xxxx-xxxx"          │
│                                                             │
│   网络世界：                                               │
│   你要发消息给另一台电脑 → IP地址 "192.168.1.100"         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 🔢 IP地址格式

```
IPv4地址格式：xxx.xxx.xxx.xxx

┌─────────────────────────────────────────────────────────────┐
│  示例：192.168.1.100                                      │
│                                                             │
│  ├── 192.168.1   → 网络号（同一个局域网内相同）             │
│  └── 100       → 主机号（同一网络内唯一）                  │
└─────────────────────────────────────────────────────────────┘
```

#### 🌐 查看IP地址

```bash
# Windows:
ipconfig

# Mac/Linux:
ifconfig
# 或者
ip addr
```

#### 📋 IP地址类型

| 类型 | 范围 | 用途 |
|------|------|------|
| 私有IP | 192.168.x.x | 局域网 |
| 私有IP | 10.x.x.x | 大型局域网 |
| 环回IP | 127.0.0.1 | 本机 localhost |

### 1.4.2 MAC地址

#### 🏭 什么是MAC地址？

> **MAC地址** = 网卡的"身份证号"，出厂时烧录，**全球唯一**

```
IP VS MAC：

IP地址   : 可配置，像门牌号（搬家后可换）
MAC地址  : 永久固定，像身份证号（出生即确定）

示例：00:1B:44:11:3A:B7 （48位，6字节）
```

#### 🔍 查看MAC地址

```bash
# Windows
ipconfig /all | findstr "物理地址"

# Mac
ifconfig | grep "ether"

# Linux
ip link show
```

### 1.4.3 Ping命令

#### 🎯 什么是Ping？

> **Ping** = 测试两台设备之间**网络是否连通**

```
原理：
电脑A ──Ping包──► 电脑B ──回显reply──► 电脑A

收到回复 = 网络通
超时 = 网络不通
```

#### 💻 Ping命令用法

```bash
# 测试网络连通性
ping www.baidu.com

# 测试局域网设备
ping 192.168.1.1

# 测试本机
ping localhost
# 或
ping 127.0.0.1

# 持续ping（Ctrl+C停止）
ping -c 4 192.168.1.1  # Linux/Mac
ping -n 4 192.168.1.1  # Windows
```

### 1.4.4 端口号

#### 🚪 什么是端口号？

> **端口号** = 同一台设备上的**不同服务入口**

```
类比：一栋大楼（电脑）

IP地址 = 大楼地址（192.168.1.100）

大楼内房间（端口）：
├── 80    → HTTP网站
├── 443   → HTTPS加密网站
├── 22     → SSH远程登录
├── 6080   → ROS2 VNC仿真
├── 8888   → 本课程GitBook
└── ...
```

#### 常用端口

| 端口 | 服务 |
|------|------|
| 22 | SSH |
| 80 | HTTP |
| 443 | HTTPS |
| 6080 | VNC Web |
| 8888 | Jupyter/文档 |

---

## 1.5 ROS2核心概念

```
ROS2 核心概念层级：

┌─────────────────────────────────────────────────────────────┐
│                      机器人应用                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    │
│  │   节点      │    │   话题      │    │   消息      │    │
│  │   (Node)   │◄──►│  (Topic)    │───►│  (Message)  │    │
│  │  独立程序   │    │  通信频道   │    │   数据格式   │    │
│  └─────────────┘    └─────────────┘    └─────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### ① 节点 (Node)

> **定义**：节点是ROS2中的**基本执行单元**，每个节点是一个独立运行的程序

```
例子：自动驾驶汽车的节点分布

┌─────────────────────────────────────────────────────────┐
│                    自动驾驶汽车                           │
├─────────────────────────────────────────────────────────┤
│                                                          │
│   📷 /camera_front_node     ──►  🧠 /detection_node    │
│   │                              (目标检测)              │
│   │                                                      │
│   📡 /lidar_node            ──►  🗺️ /mapping_node      │
│   │                              (建图)                  │
│   │                                                      │
│   📍 /gps_node              ──►  📍 /localization_node │
│   │                              (定位)                  │
│   │                                                      │
│   🗺️ /mapping_node         ──►  🛤️ /planning_node     │
│   │                              (路径规划)              │
│   │                                                      │
│   🛤️ /planning_node        ──►  🎮 /control_node       │
│   │                              (控制)                  │
│   │                                                      │
│   🎮 /control_node         ──►  ⚙️ /motor_node         │
│   │                              (电机驱动)              │
│   │                                                      │
└─────────────────────────────────────────────────────────┘

这就是6个节点！每个专注做一件事
```

**节点特点**：
- ✅ 单一职责（每个节点只做一件事）
- ✅ 独立运行（节点间互不干扰）
- ✅ 松耦合（通过话题连接，不需要知道对方在哪）
- ✅ 可复用（写一次，能在多个机器人上用）

#### ② 话题 (Topic)

> **定义**：话题是节点之间**异步通信**的通道

```
类比：话题 = YouTube频道

┌─────────────────────────────────────────────────────────┐
│                    YouTube 频道                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│   上传者 (Publisher)                                   │
│       │                                                 │
│       │  上传视频                                       │
│       ▼                                                 │
│   ┌─────────────────────────────────────────────┐      │
│   │  /robot/cmd_vel  速度命令频道                  │      │
│   │  (话题名称)                                   │      │
│   └─────────────────────────────────────────────┘      │
│       │                                                 │
│       │  订阅者收到更新                                 │
│       ▼                                                 │
│   订阅者 (Subscriber)                                  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### ③ 消息 (Message)

> **定义**：消息是话题传输的**数据格式**

| 消息类型 | 用途 | 字段 |
|---------|------|------|
| geometry_msgs/Twist | 速度控制 | linear.x, linear.y, linear.z, angular.x, angular.y, angular.z |
| sensor_msgs/Image | 相机图像 | header, height, width, data |
| sensor_msgs/LaserScan | 激光雷达 | angle_min, angle_max, ranges |
| nav_msgs/Odometry | 里程计 | pose, twist |

---

## 1.4 核心概念详解（40分钟）

### 1.6.1 发布/订阅模型

```
发布/订阅通信流程：

   Node A (发布者)              Node B (订阅者)
   ┌──────────────┐           ┌──────────────┐
   │              │           │              │
   │ create_pub() │           │ create_sub() │
   └──────┬───────┘           └──────┬───────┘
          │                         │
          │   订阅话题               │
          │ ───────────────────────►│
          │                         │
          │   发布消息               │
          │ ◄─────────────────────── │
          │                         │
          │   回调函数               │
          │   on_message()         │
          │ ───────────────────────►│
          │                         │
```

#### 代码示例（概念）

```python
# 发布者
publisher = node.create_publisher(Twist, '/cmd_vel', 10)
msg = Twist()
msg.linear.x = 1.0
publisher.publish(msg)

# 订阅者
subscription = node.create_subscription(
    Twist,
    '/cmd_vel',
    lambda msg: print(f"收到: {msg.linear.x}")
)
```

### 1.4.2 话题与服务对比

| 特性 | 话题 (Topic) | 服务 (Service) |
|------|-------------|---------------|
| 通信模式 | 异步发布/订阅 | 同步请求/响应 |
| 适用场景 | 持续数据流 | 一次性任务 |
| 示例 | 持续发布传感器数据 | 查询机器人状态 |
| 是否有响应 | 否 | 是 |

---

## 1.5 演示：Turtlesim（15分钟）

### 🎬 教师演示

> **教师操作**：在屏幕上展示Turtlesim

1. 启动Turtlesim
2. 启动键盘控制
3. 用键盘控制小乌龟移动

### 📺 展示内容

- 窗口中的小乌龟
- 坐标系（X向右，Y向上）
- 键盘控制的效果
- 解释：这就是我们第一个机器人仿真！

---

## 1.6 小结（15分钟）

### ✅ 今日要点

1. **机器人 = 身体 + 大脑**
   - 身体：机械结构、传感器、执行器
   - 大脑：人工智能、算法、软件

2. **AI是软件，ROS2是连接两者的桥梁**
   - ROS2提供通信框架
   - 让AI算法能和机器人硬件对话

3. **核心概念**
   - 节点(Node)：独立程序
   - 话题(Topic)：通信频道
   - 消息(Message)：数据格式

### 📝 课后任务

1. **思考题**：你身边有哪些设备可以算是"机器人"？它们有"大脑"吗？
2. **了解Docker**：下节课要用Docker搭建环境，可以先看看Docker是什么

---

## 第二次课：环境搭建实战（3小时）

### ⏱️ 时间分配

| 环节 | 时间 | 内容 |
|------|------|------|
| 复习 | 15分钟 | 提问巩固 |
| 讲解 | 30分钟 | Docker原理与安装 |
| 演示 | 20分钟 | Docker操作演示 |
| 实践 | 80分钟 | 学生动手操作 |
| 茶歇 | 10分钟 | 休息 |
| 实践 | 60分钟 | 运行Turtlesim |
| 总结 | 15分钟 | 本周总结 |

---

## 2.1 Docker原理与安装（50分钟）

### 2.1.1 为什么要用Docker？

#### 🐳 Docker是什么？

> **Docker** = 轻量级的**虚拟机** + 打包好的**运行环境**

```
传统方式 vs Docker方式：

传统方式：              Docker方式：
┌─────────────┐        ┌─────────────┐
│   你的电脑   │        │   Docker    │
│             │        │   集装箱    │
│ ┌─────────┐ │        │ ┌─────────┐ │
│ │ 安装ROS │ │  ←头痛 │ │ 整个打包  │ │
│ │ 配置环境 │ │        │ │ 一起带走  │ │
│ │ 装依赖  │ │        │ │         │ │
│ └─────────┘ │        │ └─────────┘ │
└─────────────┘        └─────────────┘
```

#### 📦 Docker核心概念

| 概念 | 说明 | 类比 |
|------|------|------|
| 镜像 (Image) | 打包好的模板 | 建筑图纸 |
| 容器 (Container) | 镜像的运行实例 | 建筑出来的房子 |
| 仓库 (Registry) | 存放镜像的地方 | 文件库 |

#### 🚀 为什么ROS2要用Docker？

| 优势 | 说明 |
|------|------|
| 🛡️ 环境隔离 | 不污染主机系统 |
| 🚀 一键部署 | 拉取镜像就能跑 |
| 🔄 跨平台 | Win/Mac/Linux都能用 |
| 💾 节省空间 | 比虚拟机轻量 |
| 🎯 环境一致 | 避免"在我电脑上能跑"问题 |

### 2.1.2 Docker安装

#### Windows/Mac

```bash
# 访问官网下载
https://www.docker.com/products/docker-desktop

# 安装步骤：
# 1. 双击安装包
# 2. 同意条款
# 3. 等待安装完成
# 4. 启动Docker Desktop

# 验证安装
docker --version
docker ps
```

#### Linux (Ubuntu)

```bash
# 1. 更新apt源
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common

# 2. 添加Docker GPG密钥
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# 3. 添加Docker仓库
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# 4. 安装Docker
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io docker-compose-plugin

# 5. 启动Docker
sudo systemctl start docker
sudo systemctl enable docker

# 6. 验证
docker --version
```

#### ⚠️ 常见问题

| 问题 | 解决方法 |
|------|---------|
| Docker启动失败 | 检查BIOS中虚拟化是否开启 |
| 权限被拒绝 | 命令前加sudo，或执行sudo usermod -aG docker $USER |
| 下载太慢 | 配置国内镜像源（稍后演示）|

---

## 2.2 Docker操作演示（20分钟）

### 常用命令

```bash
# 镜像操作
docker images                    # 查看本地镜像
docker pull <镜像名>             # 拉取镜像
docker rmi <镜像名>              # 删除镜像

# 容器操作
docker ps                        # 查看运行中的容器
docker ps -a                     # 查看所有容器
docker run <镜像名>              # 运行容器
docker stop <容器名>              # 停止容器
docker rm <容器名>               # 删除容器

# 交互式操作
docker run -it <镜像名> /bin/bash  # 进入容器shell
```

---

## 2.3 拉取ROS2镜像（80分钟）

### 2.3.1 镜像选择

> **选择**：Tiryoh/ros2-desktop-vnc
> 
> **特点**：自带VNC桌面，无需配置显卡驱动，浏览器直接访问

```bash
# 拉取镜像（约3GB，需要几分钟）
docker pull tiryoh/ros2-desktop-vnc:humble
```

### 2.3.2 启动容器

```bash
# 运行ROS2容器
docker run -it --rm \
    -p 6080:80 \
    -p 5900:5900 \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    -e DISPLAY=0 \
    --name ros2_sim \
    tiryoh/ros2-desktop-vnc:humble
```

#### 参数说明

| 参数 | 含义 | 说明 |
|------|------|------|
| `-it` | 交互式终端 | 保持容器运行 |
| `--rm` | 自动删除 | 退出时删除容器 |
| `-p 6080:80` | 端口映射 | 浏览器访问 |
| `-p 5900:5900` | VNC端口 | VNC客户端访问 |
| `-v ...X11-unix` | 共享显示 | 图形界面传输 |
| `-e DISPLAY=0` | 显示环境 | 设置显示变量 |
| `--name ros2_sim` | 容器名 | 方便识别 |

### 2.3.3 访问方式

| 方式 | 地址 | 工具 |
|------|------|------|
| **浏览器** ⭐ | http://localhost:6080 | Chrome/Edge |
| VNC客户端 | localhost:5900 | VNC Viewer |

---

## 2.4 运行Turtlesim（60分钟）

### 2.4.1 启动Turtlesim

```bash
# 在Docker容器的终端中
ros2 run turtlesim turtlesim_node
```

**应该看到**：
- 弹出一个窗口
- 窗口中间有一只小乌龟🐢
- 终端输出：`[INFO] [turtlesim]: Starting turtlesim with node name /turtlesim`

### 2.4.2 启动键盘控制

```bash
# 打开第二个终端（在浏览器中右键 → Open Terminal）
ros2 run turtlesim turtle_teleop_key
```

### 2.4.3 控制移动

| 按键 | 动作 |
|------|------|
| ↑ | 前进 |
| ↓ | 后退 |
| ← | 左转 |
| → | 右转 |

---

## 2.5 ROS2命令实战（课后自行练习）

```bash
# 查看运行中的节点
ros2 node list

# 查看话题列表
ros2 topic list

# 查看服务列表
ros2 service list

# 查看系统状态
ros2 doctor
```

---

## 本周实验报告

### ✅ 验收标准

| 序号 | 任务 | 要求 | 完成 |
|------|------|------|------|
| 1 | Docker安装 | docker --version 有输出 | ☐ |
| 2 | Docker配置 | 能运行hello-world | ☐ |
| 3 | 拉取镜像 | ROS2镜像拉取成功 | ☐ |
| 4 | 启动容器 | 浏览器访问6080成功 | ☐ |
| 5 | 运行Turtlesim | 小乌龟窗口出现 | ☐ |
| 6 | 键盘控制 | 能控制小乌龟移动 | ☐ |
| 7 | ros2命令 | 会用node/topic/list | ☐ |

---

## 本周作业

### 📝 理论题

1. 简述机器人与人工智能的区别与联系
2. 为什么要用ROS2而不是从零开始写代码？
3. Docker和传统虚拟机有什么区别？

### 📸 实践题

1. 截取Turtlesim运行时的截图
2. 用键盘控制小乌龟画一个圆，截图保存
3. 尝试让小乌龟走"S"形

### 💭 思考题

1. 如果要同时运行两只小乌龟，需要什么条件？
2. ROS2的"话题"和微信群有什么相似之处？

---

## 知识点速查表

```
┌─────────────────────────────────────────────────────────────┐
│                    第1周知识点速查                           │
├─────────────────────────────────────────────────────────────┤
│  概念                                                          │
│  ├── 机器人 = 身体(执行器+传感器) + 大脑(AI/算法)             │
│  ├── AI = 人工智能，让机器有智能                               │
│  ├── ROS2 = 机器人操作系统(通信框架)                          │
│  ├── Node = 独立运行的程序                                    │
│  ├── Topic = 异步通信频道                                     │
│  ├── Message = 传输的数据格式                                 │
│  └── Docker = 打包好的运行环境                                │
├─────────────────────────────────────────────────────────────┤
│  Docker命令                                                    │
│  ├── docker pull <镜像名>      拉取镜像                      │
│  ├── docker run ...           运行容器                       │
│  ├── docker ps                查看容器                       │
│  └── docker stop <容器名>     停止容器                      │
├─────────────────────────────────────────────────────────────┤
│  ROS2命令                                                      │
│  ├── ros2 run pkg node         运行节点                      │
│  ├── ros2 node list           查看节点                       │
│  ├── ros2 topic list          查看话题                       │
│  └── ros2 doctor              系统诊断                       │
└─────────────────────────────────────────────────────────────┘
```

---

## 📚 课后阅读

- [ROS2官方安装指南](https://docs.ros.org/en/humble/Installation.html)
- [Docker官方文档](https://docs.docker.com/get-started/)
- [Turtlesim官方教程](https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Introducing-Turtlesim/Introducing-Turtlesim.html)

---

## 下周预告

> **第2周：ROS2通信机制基础**
> - 深入理解节点(Node)和话题(Topic)
> - 用命令行控制小乌龟画圆
> - 发布者/订阅者模型详解

---

*第1周结束！🎉 下周我们将学习ROS2的通信机制*
