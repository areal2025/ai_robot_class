
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>ç¬¬3å‘¨ï¼šPythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨ Â· ROS2æœºå™¨äººç¼–ç¨‹åŸºç¡€è¯¾ç¨‹</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.1.6">
        <meta name="author" content="Your Name">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="week4.md" />
    
    
    <link rel="prev" href="week2.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="è¾“å…¥å¹¶æœç´¢" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    è¯¾ç¨‹ç®€ä»‹
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ä¸ç¯å¢ƒæ­å»º</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="week1.html">
            
                <a href="week1.html">
            
                    
                    ç¬¬1å‘¨ï¼šè¯¾ç¨‹ä»‹ç»ä¸ä»¿çœŸç¯å¢ƒæ­å»º
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="week2.html">
            
                <a href="week2.html">
            
                    
                    ç¬¬2å‘¨ï¼šROS2é€šä¿¡æœºåˆ¶åŸºç¡€
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="week3.html">
            
                <a href="week3.html">
            
                    
                    ç¬¬3å‘¨ï¼šPythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ç¬¬äºŒé˜¶æ®µï¼šè¿åŠ¨å­¦ä¸ç©ºé—´æ„ŸçŸ¥</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="week4.md">
            
                <span>
            
                    
                    ç¬¬4å‘¨ï¼šæœºå™¨äººè¿åŠ¨å­¦åŸºç¡€ï¼ˆäºŒç»´ï¼‰
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="week5.md">
            
                <span>
            
                    
                    ç¬¬5å‘¨ï¼šä¼ æ„Ÿå™¨ä¸æ„ŸçŸ¥åŸºç¡€
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="week6.md">
            
                <span>
            
                    
                    ç¬¬6å‘¨ï¼šé—­ç¯æ§åˆ¶åˆæ¢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="week7.md">
            
                <span>
            
                    
                    ç¬¬7å‘¨ï¼šå¤ä¹ ä¸å®æ“æ¼”ç»ƒ
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ç¬¬ä¸‰é˜¶æ®µï¼šAIåº”ç”¨ä¸Sim2Real</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="week9.md">
            
                <span>
            
                    
                    ç¬¬9å‘¨ï¼šæœºå™¨è§†è§‰ä¸AIå·¥å…·å…¥é—¨
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="week10.md">
            
                <span>
            
                    
                    ç¬¬10å‘¨ï¼šAIæ„ŸçŸ¥å®æˆ˜1 - QR Codeè¯†åˆ«
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="week11.md">
            
                <span>
            
                    
                    ç¬¬11å‘¨ï¼šAIæ„ŸçŸ¥å®æˆ˜2 - è§†è§‰å·¡çº¿ä¸è·Ÿéš
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="week12.md">
            
                <span>
            
                    
                    ç¬¬12å‘¨ï¼šSim2Real - ä»ä»¿çœŸåˆ°ç°å®
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ç¬¬å››é˜¶æ®µï¼šç»¼åˆé¡¹ç›®</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="week13.md">
            
                <span>
            
                    
                    ç¬¬13å‘¨ï¼šæœŸæœ«é¡¹ç›®è®¾è®¡ä¸å¼€å‘(1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="week14.md">
            
                <span>
            
                    
                    ç¬¬14å‘¨ï¼šæœŸæœ«é¡¹ç›®è®¾è®¡ä¸å¼€å‘(2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="week15.md">
            
                <span>
            
                    
                    ç¬¬15å‘¨ï¼šæœŸæœ«é¡¹ç›®å±•ç¤ºä¸è¯„ä»·
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            æœ¬ä¹¦ä½¿ç”¨ HonKit å‘å¸ƒ
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >ç¬¬3å‘¨ï¼šPythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="ç¬¬3å‘¨ï¼špythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨">ç¬¬3å‘¨ï¼šPythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨</h1>
<p><strong>è¯¾æ—¶</strong>: 6å°æ—¶ï¼ˆç¬¬ä¸€æ¬¡è¯¾3å°æ—¶ + ç¬¬äºŒæ¬¡è¯¾3å°æ—¶ï¼‰</p>
<hr></hr>
<h2 id="ğŸ“‹-æœ¬å‘¨è¯¾ç¨‹è¡¨">ğŸ“‹ æœ¬å‘¨è¯¾ç¨‹è¡¨</h2>
<table>
<thead>
<tr>
<th>æ¬¡åº</th>
<th>æ—¶é—´</th>
<th>ä¸»é¢˜</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¬¬1æ¬¡</td>
<td>3å°æ—¶</td>
<td>PythonåŸºç¡€ä¸èŠ‚ç‚¹</td>
<td>Pythonã€ç¬¬ä¸€ä¸ªåŸºç¡€ROS2èŠ‚ç‚¹</td>
</tr>
<tr>
<td>ç¬¬2æ¬¡</td>
<td>3å°æ—¶</td>
<td>æœºå™¨äººæ§åˆ¶</td>
<td>é€Ÿåº¦æ§åˆ¶ã€èµ°æ­£æ–¹å½¢</td>
</tr>
</tbody>
</table>
<hr></hr>
<h2 id="ç¬¬ä¸€æ¬¡è¯¾ï¼špythonåŸºç¡€ä¸èŠ‚ç‚¹ï¼ˆ3å°æ—¶ï¼‰">ç¬¬ä¸€æ¬¡è¯¾ï¼šPythonåŸºç¡€ä¸èŠ‚ç‚¹ï¼ˆ3å°æ—¶ï¼‰</h2>
<h3 id="â±ï¸-æ—¶é—´åˆ†é…">â±ï¸ æ—¶é—´åˆ†é…</h3>
<table>
<thead>
<tr>
<th>ç¯èŠ‚</th>
<th>æ—¶é—´</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>è®²è§£</td>
<td>40åˆ†é’Ÿ</td>
<td>PythonåŸºç¡€å›é¡¾</td>
</tr>
<tr>
<td>è®²è§£</td>
<td>50åˆ†é’Ÿ</td>
<td>ROS2 Pythonåº“ä»‹ç»</td>
</tr>
<tr>
<td>æ¼”ç¤º</td>
<td>30åˆ†é’Ÿ</td>
<td>ç¬¬ä¸€ä¸ªHello WorldèŠ‚ç‚¹</td>
</tr>
<tr>
<td>èŒ¶æ­‡</td>
<td>10åˆ†é’Ÿ</td>
<td>ä¼‘æ¯</td>
</tr>
<tr>
<td>å®è·µ</td>
<td>40åˆ†é’Ÿ</td>
<td>ç¼–å†™ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</td>
</tr>
<tr>
<td>æ€»ç»“</td>
<td>10åˆ†é’Ÿ</td>
<td>æœ¬æ¬¡è¯¾å°ç»“</td>
</tr>
</tbody>
</table>
<hr></hr>
<h2 id="11-pythonåŸºç¡€å›é¡¾ï¼ˆ40åˆ†é’Ÿï¼‰">1.1 PythonåŸºç¡€å›é¡¾ï¼ˆ40åˆ†é’Ÿï¼‰</h2>
<h3 id="111-å˜é‡å’Œæ•°æ®ç±»å‹">1.1.1 å˜é‡å’Œæ•°æ®ç±»å‹</h3>
<pre><code class="lang-python"><span class="hljs-comment"># æ•´æ•°</span>
age = <span class="hljs-number">25</span>

<span class="hljs-comment"># æµ®ç‚¹æ•°ï¼ˆå°æ•°ï¼‰</span>
speed = <span class="hljs-number">1.5</span>

<span class="hljs-comment"># å­—ç¬¦ä¸²</span>
name = <span class="hljs-string">"turtle"</span>

<span class="hljs-comment"># å¸ƒå°”å€¼</span>
is_moving = <span class="hljs-literal">True</span>

<span class="hljs-comment"># åˆ—è¡¨</span>
colors = [<span class="hljs-string">"red"</span>, <span class="hljs-string">"green"</span>, <span class="hljs-string">"blue"</span>]

<span class="hljs-comment"># å­—å…¸</span>
robot = {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"TurtleBot"</span>,
    <span class="hljs-string">"speed"</span>: <span class="hljs-number">1.0</span>,
    <span class="hljs-string">"battery"</span>: <span class="hljs-number">80</span>
}
</code></pre>
<h3 id="112-å‡½æ•°">1.1.2 å‡½æ•°</h3>
<pre><code class="lang-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hello</span>():
    <span class="hljs-string">"""è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello, Robot!"</span>)

<span class="hljs-comment"># å¸¦å‚æ•°çš„å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">move_robot</span>(<span class="hljs-params">speed, direction</span>):
    <span class="hljs-string">"""ç§»åŠ¨æœºå™¨äºº"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Moving at <span class="hljs-subst">{speed}</span> m/s, direction: <span class="hljs-subst">{direction}</span>"</span>)

<span class="hljs-comment"># è°ƒç”¨</span>
say_hello()
move_robot(<span class="hljs-number">1.0</span>, <span class="hljs-string">"forward"</span>)
</code></pre>
<h3 id="113-ç±»ï¼ˆé¢å‘å¯¹è±¡ï¼‰">1.1.3 ç±»ï¼ˆé¢å‘å¯¹è±¡ï¼‰</h3>
<pre><code class="lang-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Robot</span>:
    <span class="hljs-string">"""æœºå™¨äººå°ç±»"""</span>

    <span class="hljs-comment"># åˆå§‹åŒ–æ–¹æ³•ï¼ˆæ„é€ å‡½æ•°ï¼‰</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):
        <span class="hljs-variable language_">self</span>.name = name  <span class="hljs-comment"># å®ä¾‹å±æ€§</span>
        <span class="hljs-variable language_">self</span>.speed = <span class="hljs-number">0</span>   <span class="hljs-comment"># åˆå§‹é€Ÿåº¦ä¸º0</span>

    <span class="hljs-comment"># æ–¹æ³•</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move</span>(<span class="hljs-params">self, speed</span>):
        <span class="hljs-string">"""ç§»åŠ¨æ–¹æ³•"""</span>
        <span class="hljs-variable language_">self</span>.speed = speed
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{self.name}</span> is moving at <span class="hljs-subst">{speed}</span> m/s"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åœæ­¢"""</span>
        <span class="hljs-variable language_">self</span>.speed = <span class="hljs-number">0</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{self.name}</span> stopped"</span>)

<span class="hljs-comment"># åˆ›å»ºå®ä¾‹</span>
my_robot = Robot(<span class="hljs-string">"TurtleBot"</span>)
my_robot.move(<span class="hljs-number">1.0</span>)  <span class="hljs-comment"># è¾“å‡ºï¼šTurtleBot is moving at 1.0 m/s</span>
my_robot.stop()     <span class="hljs-comment"># è¾“å‡ºï¼šTurtleBot stopped</span>
</code></pre>
<hr></hr>
<h2 id="12-ros2-pythonåº“ï¼ˆ50åˆ†é’Ÿï¼‰">1.2 ROS2 Pythonåº“ï¼ˆ50åˆ†é’Ÿï¼‰</h2>
<h3 id="121-rclpyç®€ä»‹">1.2.1 rclpyç®€ä»‹</h3>
<blockquote>
<p><strong>rclpy</strong> = ROS2 Client Library for Python</p>
<p>ROS2çš„Pythonå®¢æˆ·ç«¯åº“ï¼Œè®©æˆ‘ä»¬èƒ½ç”¨Pythonå†™ROS2ç¨‹åº</p>
</blockquote>
<pre><code>rclpy ç»“æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åº”ç”¨ç¨‹åº                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚          rclpy (Pythonåº“)            â”‚  â”‚
â”‚   â”‚  â€¢ Node         â€¢ Publisher         â”‚  â”‚
â”‚   â”‚  â€¢ Subscription  â€¢ Timer             â”‚  â”‚
â”‚   â”‚  â€¢ Service      â€¢ Action             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                        â”‚
â”‚                     â–¼                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚        rcl (Cåº“)                    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                        â”‚
â”‚                     â–¼                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚         DDS ä¸­é—´ä»¶                   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><h3 id="122-å¸¸ç”¨æ¨¡å—">1.2.2 å¸¸ç”¨æ¨¡å—</h3>
<pre><code class="lang-python"><span class="hljs-comment"># å¯¼å…¥ROS2 Pythonåº“</span>
<span class="hljs-keyword">import</span> rclpy
<span class="hljs-keyword">from</span> rclpy.node <span class="hljs-keyword">import</span> Node

<span class="hljs-comment"># å¯¼å…¥æ¶ˆæ¯ç±»å‹</span>
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> Twist
<span class="hljs-keyword">from</span> sensor_msgs.msg <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">from</span> nav_msgs.msg <span class="hljs-keyword">import</span> Odometry

<span class="hljs-comment"># å¯¼å…¥æ—¶é—´</span>
<span class="hljs-keyword">from</span> rclpy.duration <span class="hljs-keyword">import</span> Duration
<span class="hljs-keyword">import</span> time
</code></pre>
<hr></hr>
<h2 id="13-ç¬¬ä¸€ä¸ªros2-pythonèŠ‚ç‚¹ï¼ˆ30åˆ†é’Ÿï¼‰">1.3 ç¬¬ä¸€ä¸ªROS2 PythonèŠ‚ç‚¹ï¼ˆ30åˆ†é’Ÿï¼‰</h2>
<h3 id="ä»£ç æ¨¡æ¿">ä»£ç æ¨¡æ¿</h3>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
ç¬¬ä¸€ä¸ªROS2 PythonèŠ‚ç‚¹ï¼šHello World
"""</span>

<span class="hljs-keyword">import</span> rclpy
<span class="hljs-keyword">from</span> rclpy.node <span class="hljs-keyword">import</span> Node


<span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloNode</span>(<span class="hljs-title class_ inherited__">Node</span>):
    <span class="hljs-string">"""æœ€ç®€å•çš„ROS2èŠ‚ç‚¹"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–ï¼ŒèŠ‚ç‚¹åä¸º 'hello_node'</span>
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">'hello_node'</span>)

        <span class="hljs-comment"># æ‰“å°æ—¥å¿—ï¼ˆROS2çš„printï¼‰</span>
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'ğŸ‰ Hello ROS2! æˆ‘æ˜¯ç¬¬ä¸€ä¸ªPythonèŠ‚ç‚¹ï¼'</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">args=<span class="hljs-literal">None</span></span>):
    <span class="hljs-string">"""ä¸»å‡½æ•°ï¼šå…¥å£ç‚¹"""</span>

    <span class="hljs-comment"># 1. åˆå§‹åŒ–ROS2ï¼ˆå¿…é¡»çš„ç¬¬ä¸€æ­¥ï¼‰</span>
    rclpy.init(args=args)

    <span class="hljs-comment"># 2. åˆ›å»ºèŠ‚ç‚¹</span>
    node = HelloNode()

    <span class="hljs-comment"># 3. è®©èŠ‚ç‚¹ä¿æŒè¿è¡Œï¼ˆspin = ä¿æŒç›‘å¬å›è°ƒï¼‰</span>
    <span class="hljs-keyword">try</span>:
        rclpy.spin(node)
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-comment"># Ctrl+C ä¼˜é›…é€€å‡º</span>
        <span class="hljs-keyword">pass</span>
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-comment"># 4. æ¸…ç†èµ„æº</span>
        node.destroy_node()
        rclpy.shutdown()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    main()
</code></pre>
<h3 id="è¿è¡Œ">è¿è¡Œ</h3>
<pre><code class="lang-bash"><span class="hljs-comment"># ä¿å­˜æ–‡ä»¶ä¸º hello_node.py</span>
<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x hello_node.py

<span class="hljs-comment"># è¿è¡Œ</span>
python3 hello_node.py

<span class="hljs-comment"># åº”è¯¥çœ‹åˆ°è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [INFO] [hello_node]: ğŸ‰ Hello ROS2! æˆ‘æ˜¯ç¬¬ä¸€ä¸ªPythonèŠ‚ç‚¹ï¼</span>
</code></pre>
<hr></hr>
<h2 id="14-å‘å¸ƒé€Ÿåº¦å‘½ä»¤ï¼ˆ40åˆ†é’Ÿï¼‰">1.4 å‘å¸ƒé€Ÿåº¦å‘½ä»¤ï¼ˆ40åˆ†é’Ÿï¼‰</h2>
<h3 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h3>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
è®©å°ä¹Œé¾Ÿç›´è¡Œçš„PythonèŠ‚ç‚¹
"""</span>

<span class="hljs-keyword">import</span> rclpy
<span class="hljs-keyword">from</span> rclpy.node <span class="hljs-keyword">import</span> Node
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> Twist


<span class="hljs-keyword">class</span> <span class="hljs-title class_">StraightMover</span>(<span class="hljs-title class_ inherited__">Node</span>):
    <span class="hljs-string">"""æ§åˆ¶å°ä¹Œé¾Ÿç›´è¡Œçš„èŠ‚ç‚¹"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># èŠ‚ç‚¹å</span>
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">'straight_mover'</span>)

        <span class="hljs-comment"># åˆ›å»ºå‘å¸ƒè€…ï¼šå‘å¸ƒåˆ° /turtle1/cmd_vel</span>
        <span class="hljs-comment"># Twist æ˜¯é€Ÿåº¦æ¶ˆæ¯ç±»å‹</span>
        <span class="hljs-comment"># 10 æ˜¯é˜Ÿåˆ—å¤§å°</span>
        <span class="hljs-variable language_">self</span>.cmd_vel_pub = <span class="hljs-variable language_">self</span>.create_publisher(
            Twist, 
            <span class="hljs-string">'/turtle1/cmd_vel'</span>, 
            <span class="hljs-number">10</span>
        )

        <span class="hljs-comment"># åˆ›å»ºå®šæ—¶å™¨ï¼šæ¯0.1ç§’è°ƒç”¨ä¸€æ¬¡ callback</span>
        <span class="hljs-variable language_">self</span>.timer = <span class="hljs-variable language_">self</span>.create_timer(<span class="hljs-number">0.1</span>, <span class="hljs-variable language_">self</span>.timer_callback)

        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'ğŸš€ ç›´è¡Œæ§åˆ¶èŠ‚ç‚¹å·²å¯åŠ¨ï¼'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">timer_callback</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼šæ¯0.1ç§’æ‰§è¡Œä¸€æ¬¡"""</span>

        <span class="hljs-comment"># åˆ›å»ºé€Ÿåº¦æ¶ˆæ¯</span>
        msg = Twist()
        msg.linear.x = <span class="hljs-number">1.0</span>    <span class="hljs-comment"># å‰è¿› 1 m/s</span>
        msg.angular.z = <span class="hljs-number">0.0</span>   <span class="hljs-comment"># ä¸æ—‹è½¬</span>

        <span class="hljs-comment"># å‘å¸ƒæ¶ˆæ¯</span>
        <span class="hljs-variable language_">self</span>.cmd_vel_pub.publish(msg)

        <span class="hljs-comment"># æ‰“å°æ—¥å¿—</span>
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'Published: linear.x=1.0'</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">args=<span class="hljs-literal">None</span></span>):
    rclpy.init(args=args)
    node = StraightMover()

    <span class="hljs-keyword">try</span>:
        rclpy.spin(node)
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-keyword">pass</span>
    <span class="hljs-keyword">finally</span>:
        node.destroy_node()
        rclpy.shutdown()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    main()
</code></pre>
<h3 id="ä»£ç è¯¦è§£">ä»£ç è¯¦è§£</h3>
<pre><code class="lang-python"><span class="hljs-comment"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-comment"># â”‚                   ä»£ç ç»“æ„è§£æ                              â”‚</span>
<span class="hljs-comment"># â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  1. å¯¼å…¥åº“                                                  â”‚</span>
<span class="hljs-comment"># â”‚     import rclpy              # ROS2 Pythonåº“               â”‚</span>
<span class="hljs-comment"># â”‚     from rclpy.node import Node  # èŠ‚ç‚¹åŸºç±»                 â”‚</span>
<span class="hljs-comment"># â”‚     from geometry_msgs.msg import Twist  # é€Ÿåº¦æ¶ˆæ¯         â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  2. å®šä¹‰èŠ‚ç‚¹ç±»                                              â”‚</span>
<span class="hljs-comment"># â”‚     class StraightMover(Node):      # ç»§æ‰¿Nodeç±»           â”‚</span>
<span class="hljs-comment"># â”‚         def __init__(self):         # åˆå§‹åŒ–               â”‚</span>
<span class="hljs-comment"># â”‚             self.create_publisher() # åˆ›å»ºå‘å¸ƒè€…            â”‚</span>
<span class="hljs-comment"># â”‚             self.create_timer()     # åˆ›å»ºå®šæ—¶å™¨            â”‚</span>
<span class="hljs-comment"># â”‚         def timer_callback(self):   # å›è°ƒå‡½æ•°             â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  3. ä¸»å‡½æ•°                                                  â”‚</span>
<span class="hljs-comment"># â”‚     rclpy.init()             # åˆå§‹åŒ–ROS2                  â”‚</span>
<span class="hljs-comment"># â”‚     rclpy.spin(node)        # ä¿æŒè¿è¡Œ                    â”‚</span>
<span class="hljs-comment"># â”‚     rclpy.shutdown()        # å…³é—­ROS2                    â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<hr></hr>
<h2 id="ç¬¬äºŒæ¬¡è¯¾ï¼šæœºå™¨äººæ§åˆ¶ï¼ˆ3å°æ—¶ï¼‰">ç¬¬äºŒæ¬¡è¯¾ï¼šæœºå™¨äººæ§åˆ¶ï¼ˆ3å°æ—¶ï¼‰</h2>
<h3 id="â±ï¸-æ—¶é—´åˆ†é…">â±ï¸ æ—¶é—´åˆ†é…</h3>
<table>
<thead>
<tr>
<th>ç¯èŠ‚</th>
<th>æ—¶é—´</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤ä¹ </td>
<td>20åˆ†é’Ÿ</td>
<td>æé—®å·©å›º</td>
</tr>
<tr>
<td>è®²è§£</td>
<td>40åˆ†é’Ÿ</td>
<td>èµ°æ­£æ–¹å½¢åŸç†</td>
</tr>
<tr>
<td>æ¼”ç¤º</td>
<td>20åˆ†é’Ÿ</td>
<td>å®Œæ•´ä»£ç æ¼”ç¤º</td>
</tr>
<tr>
<td>å®è·µ</td>
<td>60åˆ†é’Ÿ</td>
<td>èµ°æ­£æ–¹å½¢å®éªŒ</td>
</tr>
<tr>
<td>èŒ¶æ­‡</td>
<td>10åˆ†é’Ÿ</td>
<td>ä¼‘æ¯</td>
</tr>
<tr>
<td>å®è·µ</td>
<td>60åˆ†é’Ÿ</td>
<td>æŒ‘æˆ˜ä»»åŠ¡</td>
</tr>
</tbody>
</table>
<hr></hr>
<h2 id="21-èµ°æ­£æ–¹å½¢åŸç†ï¼ˆ40åˆ†é’Ÿï¼‰">2.1 èµ°æ­£æ–¹å½¢åŸç†ï¼ˆ40åˆ†é’Ÿï¼‰</h2>
<h3 id="211-è¿åŠ¨åˆ†è§£">2.1.1 è¿åŠ¨åˆ†è§£</h3>
<pre><code>èµ°æ­£æ–¹å½¢ = 4æ¡ç›´çº¿ + 4æ¬¡90Â°è½¬å¼¯

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           â”‚
    â‘¢    â”‚    â‘¡      â”‚    â‘ 
         â”‚           â”‚
         â”‚           â”‚
         â”‚    â‘£      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†‘
           èµ·ç‚¹/ç»ˆç‚¹

æ­¥éª¤åˆ†è§£ï¼š
1. ç›´è¡Œ â†’ å³è½¬90Â°
2. ç›´è¡Œ â†’ å³è½¬90Â°  
3. ç›´è¡Œ â†’ å³è½¬90Â°
4. ç›´è¡Œ â†’ å³è½¬90Â°ï¼ˆå›åˆ°èµ·ç‚¹ï¼‰
</code></pre><h3 id="212-å‚æ•°è®¡ç®—">2.1.2 å‚æ•°è®¡ç®—</h3>
<pre><code class="lang-python"><span class="hljs-comment"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-comment"># â”‚                    å‚æ•°è®¡ç®—                                  â”‚</span>
<span class="hljs-comment"># â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  è®¾å®šå‚æ•°ï¼š                                                  â”‚</span>
<span class="hljs-comment"># â”‚  â€¢ è¾¹é•¿ SIDE_LENGTH = 2.0 ç±³                               â”‚</span>
<span class="hljs-comment"># â”‚  â€¢ çº¿é€Ÿåº¦ SPEED = 1.0 m/s                                 â”‚</span>
<span class="hljs-comment"># â”‚  â€¢ è§’é€Ÿåº¦ TURN_SPEED = 1.0 rad/s                          â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  è®¡ç®—ï¼š                                                     â”‚</span>
<span class="hljs-comment"># â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚ ç›´è¡Œæ—¶é—´ = è·ç¦» / é€Ÿåº¦                               â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚ MOVE_TIME = SIDE_LENGTH / SPEED                     â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚           = 2.0 / 1.0 = 2.0 ç§’                       â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚ è½¬å¼¯æ—¶é—´ = è§’åº¦(å¼§åº¦) / è§’é€Ÿåº¦                       â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚ 90Â° = Ï€/2 â‰ˆ 1.5708 å¼§åº¦                             â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚ TURN_TIME = (Ï€/2) / TURN_SPEED                      â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â”‚           = 1.5708 / 1.0 = 1.5708 ç§’                 â”‚   â”‚</span>
<span class="hljs-comment"># â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â”‚  æ€»æ—¶é—´ = 4 Ã— (2.0 + 1.5708) = 14.28 ç§’                   â”‚</span>
<span class="hljs-comment"># â”‚                                                             â”‚</span>
<span class="hljs-comment"># â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<h3 id="213-å¸¸ç”¨å¤šè¾¹å½¢å‚æ•°">2.1.3 å¸¸ç”¨å¤šè¾¹å½¢å‚æ•°</h3>
<table>
<thead>
<tr>
<th>å›¾å½¢</th>
<th>è¾¹æ•°</th>
<th>å¤–è§’</th>
<th>å¤–è§’(å¼§åº¦)</th>
<th>è½¬å¼¯æ—¶é—´(rad/s=1)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸‰è§’å½¢</td>
<td>3</td>
<td>120Â°</td>
<td>2.094</td>
<td>2.094ç§’</td>
</tr>
<tr>
<td>æ­£æ–¹å½¢</td>
<td>4</td>
<td>90Â°</td>
<td>1.571</td>
<td>1.571ç§’</td>
</tr>
<tr>
<td>äº”è¾¹å½¢</td>
<td>5</td>
<td>72Â°</td>
<td>1.257</td>
<td>1.257ç§’</td>
</tr>
<tr>
<td>å…­è¾¹å½¢</td>
<td>6</td>
<td>60Â°</td>
<td>1.047</td>
<td>1.047ç§’</td>
</tr>
<tr>
<td>å…«è¾¹å½¢</td>
<td>8</td>
<td>45Â°</td>
<td>0.785</td>
<td>0.785ç§’</td>
</tr>
</tbody>
</table>
<hr></hr>
<h2 id="22-å®Œæ•´ä»£ç ï¼ˆ20åˆ†é’Ÿï¼‰">2.2 å®Œæ•´ä»£ç ï¼ˆ20åˆ†é’Ÿï¼‰</h2>
<pre><code class="lang-python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
è®©å°ä¹Œé¾Ÿèµ°æ­£æ–¹å½¢çš„æ§åˆ¶è„šæœ¬
"""</span>

<span class="hljs-keyword">import</span> rclpy
<span class="hljs-keyword">from</span> rclpy.node <span class="hljs-keyword">import</span> Node
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> Twist
<span class="hljs-keyword">import</span> time


<span class="hljs-keyword">class</span> <span class="hljs-title class_">SquareMover</span>(<span class="hljs-title class_ inherited__">Node</span>):
    <span class="hljs-string">"""èµ°æ­£æ–¹å½¢çš„æ§åˆ¶èŠ‚ç‚¹"""</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">'square_mover'</span>)

        <span class="hljs-comment"># åˆ›å»ºå‘å¸ƒè€…</span>
        <span class="hljs-variable language_">self</span>.cmd_vel_pub = <span class="hljs-variable language_">self</span>.create_publisher(
            Twist, 
            <span class="hljs-string">'/turtle1/cmd_vel'</span>, 
            <span class="hljs-number">10</span>
        )

        <span class="hljs-comment"># ============ å‚æ•°è®¾ç½® ============</span>
        <span class="hljs-variable language_">self</span>.SPEED = <span class="hljs-number">1.0</span>              <span class="hljs-comment"># çº¿é€Ÿåº¦ m/s</span>
        <span class="hljs-variable language_">self</span>.TURN_SPEED = <span class="hljs-number">1.0</span>          <span class="hljs-comment"># è§’é€Ÿåº¦ rad/s</span>
        <span class="hljs-variable language_">self</span>.SIDE_LENGTH = <span class="hljs-number">2.0</span>         <span class="hljs-comment"># è¾¹é•¿ m</span>

        <span class="hljs-comment"># è®¡ç®—è¿åŠ¨æ—¶é—´</span>
        <span class="hljs-variable language_">self</span>.MOVE_TIME = <span class="hljs-variable language_">self</span>.SIDE_LENGTH / <span class="hljs-variable language_">self</span>.SPEED
        <span class="hljs-variable language_">self</span>.TURN_TIME = <span class="hljs-number">1.5708</span> / <span class="hljs-variable language_">self</span>.TURN_SPEED  <span class="hljs-comment"># 90Â° = Ï€/2</span>

        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'ğŸ¯ æ­£æ–¹å½¢æ§åˆ¶èŠ‚ç‚¹å¯åŠ¨ï¼'</span>)
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">f'ğŸ“ è¾¹é•¿: <span class="hljs-subst">{self.SIDE_LENGTH}</span>m, é€Ÿåº¦: <span class="hljs-subst">{self.SPEED}</span>m/s'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move_straight</span>(<span class="hljs-params">self, duration</span>):
        <span class="hljs-string">"""ç›´è¡ŒæŒ‡å®šæ—¶é—´"""</span>
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'â†’ ç›´è¡Œ...'</span>)

        msg = Twist()
        msg.linear.x = <span class="hljs-built_in">float</span>(<span class="hljs-variable language_">self</span>.SPEED)
        msg.angular.z = <span class="hljs-number">0.0</span>

        <span class="hljs-comment"># è®°å½•å¼€å§‹æ—¶é—´</span>
        start_time = <span class="hljs-variable language_">self</span>.get_clock().now()

        <span class="hljs-comment"># æŒç»­å‘å¸ƒå‘½ä»¤</span>
        <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">self</span>.get_clock().now() - start_time).nanoseconds &lt; duration * <span class="hljs-number">1e9</span>:
            <span class="hljs-variable language_">self</span>.cmd_vel_pub.publish(msg)
            time.sleep(<span class="hljs-number">0.01</span>)

        <span class="hljs-comment"># åœæ­¢</span>
        <span class="hljs-variable language_">self</span>.stop()
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'âœ“ ç›´è¡Œå®Œæˆ'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">turn</span>(<span class="hljs-params">self, duration</span>):
        <span class="hljs-string">"""æ—‹è½¬æŒ‡å®šæ—¶é—´"""</span>
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'â†» æ—‹è½¬...'</span>)

        msg = Twist()
        msg.linear.x = <span class="hljs-number">0.0</span>
        msg.angular.z = <span class="hljs-built_in">float</span>(<span class="hljs-variable language_">self</span>.TURN_SPEED)

        start_time = <span class="hljs-variable language_">self</span>.get_clock().now()

        <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">self</span>.get_clock().now() - start_time).nanoseconds &lt; duration * <span class="hljs-number">1e9</span>:
            <span class="hljs-variable language_">self</span>.cmd_vel_pub.publish(msg)
            time.sleep(<span class="hljs-number">0.01</span>)

        <span class="hljs-variable language_">self</span>.stop()
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'âœ“ æ—‹è½¬å®Œæˆ'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åœæ­¢è¿åŠ¨"""</span>
        msg = Twist()
        msg.linear.x = <span class="hljs-number">0.0</span>
        msg.angular.z = <span class="hljs-number">0.0</span>
        <span class="hljs-variable language_">self</span>.cmd_vel_pub.publish(msg)
        time.sleep(<span class="hljs-number">0.1</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">move_square</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œèµ°æ­£æ–¹å½¢"""</span>
        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'ğŸ å¼€å§‹èµ°æ­£æ–¹å½¢ï¼'</span>)

        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):
            <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">f'â”â”â” ç¬¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>/4 æ¡è¾¹ â”â”â”'</span>)
            <span class="hljs-variable language_">self</span>.move_straight(<span class="hljs-variable language_">self</span>.MOVE_TIME)

            <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">f'â”â”â” ç¬¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>/4 æ¬¡è½¬å¼¯ â”â”â”'</span>)
            <span class="hljs-variable language_">self</span>.turn(<span class="hljs-variable language_">self</span>.TURN_TIME)

        <span class="hljs-variable language_">self</span>.get_logger().info(<span class="hljs-string">'ğŸ‰ æ­£æ–¹å½¢èµ°å®Œï¼å›åˆ°èµ·ç‚¹ï¼'</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">args=<span class="hljs-literal">None</span></span>):
    rclpy.init(args=args)
    node = SquareMover()

    <span class="hljs-comment"># ç»™ç³»ç»Ÿä¸€ç‚¹å‡†å¤‡æ—¶é—´</span>
    time.sleep(<span class="hljs-number">1</span>)

    <span class="hljs-comment"># æ‰§è¡Œèµ°æ­£æ–¹å½¢</span>
    node.move_square()

    node.destroy_node()
    rclpy.shutdown()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    main()
</code></pre>
<hr></hr>
<h2 id="23-æŒ‘æˆ˜ä»»åŠ¡ï¼ˆ60åˆ†é’Ÿï¼‰">2.3 æŒ‘æˆ˜ä»»åŠ¡ï¼ˆ60åˆ†é’Ÿï¼‰</h2>
<h3 id="ä»»åŠ¡1ï¼šèµ°ä¸‰è§’å½¢">ä»»åŠ¡1ï¼šèµ°ä¸‰è§’å½¢</h3>
<pre><code class="lang-python"><span class="hljs-comment"># ä¸‰è§’å½¢å‚æ•°</span>
<span class="hljs-comment"># å†…è§’ = 60Â°</span>
<span class="hljs-comment"># å¤–è§’ = 180Â° - 60Â° = 120Â° = 2Ï€/3 â‰ˆ 2.094 rad</span>

TURN_TIME_TRIANGLE = <span class="hljs-number">2.094</span> / TURN_SPEED
</code></pre>
<h3 id="ä»»åŠ¡2ï¼šèµ°äº”è¾¹å½¢">ä»»åŠ¡2ï¼šèµ°äº”è¾¹å½¢</h3>
<pre><code class="lang-python"><span class="hljs-comment"># äº”è¾¹å½¢å‚æ•°</span>
<span class="hljs-comment"># å†…è§’ = 108Â°</span>
<span class="hljs-comment"># å¤–è§’ = 180Â° - 108Â° = 72Â° = 0.4Ï€ â‰ˆ 1.257 rad</span>

TURN_TIME_PENTAGON = <span class="hljs-number">1.257</span> / TURN_SPEED
</code></pre>
<h3 id="ä»»åŠ¡3ï¼šå¯é…ç½®è¾¹é•¿">ä»»åŠ¡3ï¼šå¯é…ç½®è¾¹é•¿</h3>
<pre><code class="lang-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">args=<span class="hljs-literal">None</span></span>):
    rclpy.init(args=args)
    node = SquareMover()

    <span class="hljs-comment"># è®©ç”¨æˆ·è¾“å…¥è¾¹é•¿</span>
    side = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥è¾¹é•¿(ç±³): "</span>)
    node.SIDE_LENGTH = <span class="hljs-built_in">float</span>(side)
    node.MOVE_TIME = node.SIDE_LENGTH / node.SPEED

    node.move_square()
</code></pre>
<hr></hr>
<h2 id="æœ¬å‘¨å®éªŒæŠ¥å‘Š">æœ¬å‘¨å®éªŒæŠ¥å‘Š</h2>
<h3 id="âœ…-éªŒæ”¶æ¸…å•">âœ… éªŒæ”¶æ¸…å•</h3>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>å®éªŒ</th>
<th>è¦æ±‚</th>
<th>å®Œæˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Hello World</td>
<td>è¿è¡Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹</td>
<td>â˜</td>
</tr>
<tr>
<td>2</td>
<td>ç›´è¡Œ</td>
<td>å°ä¹Œé¾Ÿå‰è¿›</td>
<td>â˜</td>
</tr>
<tr>
<td>3</td>
<td>åé€€</td>
<td>å°ä¹Œé¾Ÿåé€€</td>
<td>â˜</td>
</tr>
<tr>
<td>4</td>
<td>æ—‹è½¬</td>
<td>åŸåœ°è½¬åœˆ</td>
<td>â˜</td>
</tr>
<tr>
<td>5</td>
<td>æ­£æ–¹å½¢</td>
<td>èµ°æ­£æ–¹å½¢</td>
<td>â˜</td>
</tr>
<tr>
<td>6</td>
<td>ä¸‰è§’å½¢</td>
<td>èµ°ä¸‰è§’å½¢</td>
<td>â˜</td>
</tr>
<tr>
<td>7</td>
<td>äº”è¾¹å½¢</td>
<td>èµ°äº”è¾¹å½¢</td>
<td>â˜</td>
</tr>
</tbody>
</table>
<hr></hr>
<h2 id="æœ¬å‘¨ä½œä¸š">æœ¬å‘¨ä½œä¸š</h2>
<h3 id="ğŸ“-ç†è®ºé¢˜">ğŸ“ ç†è®ºé¢˜</h3>
<ol>
<li>è§£é‡Š <code>create_publisher</code> å’Œ <code>create_timer</code> çš„ä½œç”¨</li>
<li>ä¸ºä»€ä¹ˆåœ¨å¾ªç¯ä¸­è¦æŒç»­å‘å¸ƒå‘½ä»¤ï¼Ÿ</li>
</ol>
<h3 id="ğŸ“-è®¡ç®—é¢˜">ğŸ“ è®¡ç®—é¢˜</h3>
<ul>
<li>æ­£æ–¹å½¢è¾¹é•¿3ç±³ï¼Œé€Ÿåº¦1m/sï¼Œèµ°å®Œéœ€è¦å¤šå°‘ç§’ï¼Ÿ</li>
</ul>
<h3 id="ğŸ’»-å®è·µé¢˜">ğŸ’» å®è·µé¢˜</h3>
<ol>
<li>ä¿®æ”¹ä»£ç ï¼Œå®ç°èµ°é•¿æ–¹å½¢ï¼ˆé•¿3mï¼Œå®½2mï¼‰</li>
<li>å°è¯•è®©è¾¹é•¿å¯é…ç½®</li>
</ol>
<hr></hr>
<h2 id="çŸ¥è¯†ç‚¹é€ŸæŸ¥è¡¨">çŸ¥è¯†ç‚¹é€ŸæŸ¥è¡¨</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬3å‘¨çŸ¥è¯†ç‚¹é€ŸæŸ¥                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¦‚å¿µ                                                          â”‚
â”‚  â”œâ”€â”€ rclpy = ROS2 Pythonå®¢æˆ·ç«¯åº“                            â”‚
â”‚  â”œâ”€â”€ Node = ROS2èŠ‚ç‚¹                                        â”‚
â”‚  â”œâ”€â”€ Publisher = å‘å¸ƒè€…                                     â”‚
â”‚  â”œâ”€â”€ Timer = å®šæ—¶å™¨                                         â”‚
â”‚  â””â”€â”€ Twist = é€Ÿåº¦æ¶ˆæ¯ç±»å‹                                   â”‚
â”‚      â”œâ”€â”€ linear.x = çº¿é€Ÿåº¦ (m/s)                           â”‚
â”‚      â””â”€â”€ angular.z = è§’é€Ÿåº¦ (rad/s)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…¬å¼                                                          â”‚
â”‚  â”œâ”€â”€ ç›´è¡Œæ—¶é—´ = è·ç¦» / é€Ÿåº¦                                  â”‚
â”‚  â”œâ”€â”€ è½¬å¼¯æ—¶é—´ = è§’åº¦(å¼§åº¦) / è§’é€Ÿåº¦                         â”‚
â”‚  â””â”€â”€ 90Â° = Ï€/2 â‰ˆ 1.57 rad                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä»£ç ç»“æ„                                                      â”‚
â”‚  â”œâ”€â”€ import rclpy, Node, Twist                              â”‚
â”‚  â”œâ”€â”€ class MyNode(Node):                                    â”‚
â”‚  â”œâ”€â”€ def __init__(self):                                    â”‚
â”‚  â”‚   â”œâ”€â”€ self.create_publisher()                          â”‚
â”‚  â”‚   â””â”€â”€ self.create_timer()                               â”‚
â”‚  â””â”€â”€ def main():                                            â”‚
â”‚      â”œâ”€â”€ rclpy.init()                                       â”‚
â”‚      â”œâ”€â”€ rclpy.spin(node)                                   â”‚
â”‚      â””â”€â”€ rclpy.shutdown()                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><hr></hr>
<h2 id="ğŸ“š-è¯¾åé˜…è¯»">ğŸ“š è¯¾åé˜…è¯»</h2>
<ul>
<li><a href="https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html" target="_blank">ROS2 Pythonæ•™ç¨‹</a></li>
<li><a href="https://docs.python.org/3/" target="_blank">Pythonå®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr></hr>
<h2 id="ç¬¬ä¸€é˜¶æ®µå®Œæˆï¼">ç¬¬ä¸€é˜¶æ®µå®Œæˆï¼</h2>
<blockquote>
<p><strong>ç¬¬1-3å‘¨æˆå°±</strong>ï¼š</p>
<ul>
<li>âœ… æ­å»ºROS2å¼€å‘ç¯å¢ƒ</li>
<li>âœ… ç†è§£èŠ‚ç‚¹å’Œè¯é¢˜é€šä¿¡æœºåˆ¶  </li>
<li>âœ… ç”¨å‘½ä»¤è¡Œæ§åˆ¶æœºå™¨äºº</li>
<li>âœ… ç”¨Pythonç¼–å†™æœºå™¨äººæ§åˆ¶ç¨‹åº</li>
<li>âœ… å®ç°æœºå™¨äººèµ°æ­£æ–¹å½¢</li>
</ul>
</blockquote>
<hr></hr>
<p><em>ç¬¬ä¸€é˜¶æ®µï¼ˆåŸºç¡€ä¸ç¯å¢ƒæ­å»ºï¼‰å®Œæˆï¼ğŸŠ</em></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="week2.html" class="navigation navigation-prev " aria-label="Previous page: ç¬¬2å‘¨ï¼šROS2é€šä¿¡æœºåˆ¶åŸºç¡€">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="week4.md" class="navigation navigation-next " aria-label="Next page: ç¬¬4å‘¨ï¼šæœºå™¨äººè¿åŠ¨å­¦åŸºç¡€ï¼ˆäºŒç»´ï¼‰">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"ç¬¬3å‘¨ï¼šPythonç¼–ç¨‹ä¸æœºå™¨äººæ§åˆ¶å…¥é—¨","level":"2.3","depth":1,"next":{"title":"ç¬¬4å‘¨ï¼šæœºå™¨äººè¿åŠ¨å­¦åŸºç¡€ï¼ˆäºŒç»´ï¼‰","level":"3.1","depth":1,"path":"content/week4.md","ref":"content/week4.md","articles":[]},"previous":{"title":"ç¬¬2å‘¨ï¼šROS2é€šä¿¡æœºåˆ¶åŸºç¡€","level":"2.2","depth":1,"path":"content/week2.md","ref":"content/week2.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Your Name","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"ROS2æœºå™¨äººç¼–ç¨‹åŸºç¡€è¯¾ç¨‹","language":"zh-hans","gitbook":"*","description":"ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ä¸ç¯å¢ƒæ­å»º"},"file":{"path":"content/week3.md","mtime":"2026-02-28T03:50:53.434Z","type":"markdown"},"gitbook":{"version":"6.1.6","time":"2026-02-28T04:17:02.644Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

